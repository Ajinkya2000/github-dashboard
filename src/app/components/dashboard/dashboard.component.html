<div class="dashboardWrapper container is-fluid">
  <div class="columns is-centered">
    <div
      class="is-centered box column is-half columns is-vcentered mx-5 mt-6 px-5"
    >
      <div class="column columnLeft is-4">
        <figure class="image is-128x128 imgWrapper">
          <img class="is-rounded" [src]="userData.avatar_url" alt="avatar" />
        </figure>
        <a
          class="is-link columns mt-3"
          target="_blank"
          rel="=noopener noreferrer"
          href="{{ userData.html_url }}"
        >
          <app-icons [icon]="icons.faLink" [size]="6"></app-icons>
          <p class="mx-2 is-size-6 githubLink">{{ userData.html_url }}</p>
        </a>
      </div>
      <div class="column is-vcentered">
        <h2 class="is-size-3">{{ userData.name }}</h2>
        <p class="has-text-grey-light">
          {{ userData.bio || "Bio not provided" }}
        </p>
        <p class="my-3">
          <app-icons [icon]="icons.faMapMarkerAlt" [size]="6"></app-icons>
          <span>
            {{ userData.location || "Location not provided" }}
          </span>
        </p>
        <a [href]="twitterHandle" target="_blank" rel="=noopener noreferrer">
          <app-icons [icon]="icons.faTwitter" [size]="6"></app-icons>
          <span> Twitter </span>
        </a>
      </div>
    </div>
  </div>

  <div class="container is-fluid is-vcentered columns my-6">
    <h2 class="column is-size-2">Repositories</h2>
    <div class="columns column is-size-5 has-text-right">
      <div class="column">
        <span>Filter: </span>
        <select
          name="sort"
          id="sort"
          [ngModel]="selectedValue"
          (ngModelChange)="onSelectedValueChange($event)"
        >
          <option [value]="'desc'" [defaultSelected]>Newest First</option>
          <option [value]="'asc'">Oldest First</option>
        </select>
        <select
          name="numberOfRepos"
          id="numberOfRepos"
          [ngModel]="limit"
          (ngModelChange)="onLimitChange($event)"
        >
          <option [value]="10" [defaultSelected]>10 / page</option>
          <option [value]="50">50 / page</option>
          <option [value]="100">100 / page</option>
        </select>
      </div>
    </div>
  </div>

  <div class="cotainer pb-6">
    <div *ngIf="!loadingRepos" class="columns is-vcentered is-multiline mx-5">
      <app-skeleton
        *ngFor="let item of [].constructor(6)"
        class="column is-4 is-centered has-text-centered"
      ></app-skeleton>
    </div>
    <div *ngIf="loadingRepos" class="columns is-desktop is-multiline mx-5">
      <app-repo-detail
        *ngFor="let repo of repos"
        class="column is-4 is-centered has-text-centered"
        [repoData]="repo"
      ></app-repo-detail>
    </div>
  </div>
</div>

<app-pagination
  [currentPage]="currentPage"
  [pageData]="pageData"
  [loadingRepos]="loadingRepos"
  (changeCurrentPage)="renderNewPage($event)"
></app-pagination>
